<h1>Библиотека</h1>
<h2>Установка проекта:</h2>
<ul>
<li>Выставить настройки сервера для корректной работы фраемворка laravel 7.x</li>
<li>Загрузить файлы на хостинг</li>
<li>Создать бд</li>
<li>Скопировать файл .env.example в .env и настроить подключение к своей бд</li>
<li>Создание символьной ссылки командой  для хранения файлов
<pre>php artisan storage:link</pre></li>
<li>В .htaccess прописать следющий код для указания корневой папки
 <pre>
RewriteEngine On
RewriteRule ^(.*)$ public/$1 [L]
  </pre></li>
  <li>Открыть в браузере урл /clear для очистки кеша</li>
  <li>Сделать миграции командой <pre>php artisan migrate</pre></li>
  <li>Можно выполнить команду для добавления дефолтного администратора<pre>php artisan db:seed</pre>
  Параметры можно указать в этом файле \database\seeds\UsersTableSeeder.php
  </li>
  </ul>
  
  <h2>Апи библиотеки:</h2>
  <p>Создана площадка для работы с библиотекой. Есть возможность получения всеех книг, всех авторов. 
  Реализована возможность регистрации пользователей (Наверху сайта ссылка на регистрацию и авторизацию). 
  Зарегистрированному пользователю доступна оценка книг и авторов(есть пользователь повторно ставит 
  оценку сущности, то оценка перезаписывается). А также становится доступно REST API по токену. 
  Токен создается при регистрации позователя. Токен отправляется пользователю на указанную им почту.</p>
  <p>На сайте на главной странице есть возможность поиска по книге или по автору. 
  Также на главной есть сортировка книг по рейтингу. В бд можно в ручную выставить значение is_admin = 1 для админов.
   Им доступен crud для авторов и книг на странице /home</p>
   
   <h2>REST Апи библиотеки:</h2>
   <p>При запросах необходимо использовать индивидуальный токен. Тестирование проводилось в программе Postman.</p>
   <h3>Методы GET:</h3>
   <ul>
   <li>/api/getBooks - получение книг - можно передать параметры sort=rating и sortDirection=asc/desc для сортировки</li>
   <li>/api/getAuthors - получение авторов со списком книг</li>
   <li>/api/search - поиск. Необходимо передать параметр q=запрос. (Название книги или название автора. Вернет книгу)</li>
   <li>/api/link - получение одноразовой ссылки. Необходимо передать параметр url=ссылка на страницу. 
   Вернет одноразовую сгенерированную сслыку, если url валидный.</li>
    </ul>
   <h3>Методы POST:</h3>

   <ul>
     <li>/api/rateAuthor - Оценка автора - можно передать параметры id=id автора и rate=оценка(1,2,3,4,5)</li>
     <li>/api/rateBook - Оценка книги - можно передать параметры id=id книги и rate=оценка(1,2,3,4,5)</li>
      </ul>